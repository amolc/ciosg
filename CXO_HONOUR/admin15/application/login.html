<!DOCTYPE html>
<html lang="en" ng-app>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="images/favicon.png">
    <title>Dashboard</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">
	<link href="css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
	<link rel="stylesheet" href="gl_font/opensans.css?family=Open+Sans:400,700&amp;subset=latin-ext,latin">
	<link rel="stylesheet" href="gl_font/opensans2.css?family=Open+Sans:400,300,700|Roboto:300,400&amp;subset=latin-ext,latin">
	<link href='http://fonts.googleapis.com/css?family=Bree+Serif' rel='stylesheet' type='text/css'>
	<!--[if IE]>
		<link rel="stylesheet" type="text/css" href="css/style_ie.css"/>
  <![endif]-->
   <script src="https://css3-mediaqueries-js.googlecode.com/svn/trunk/css3-mediaqueries.js"></script>
	
    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="js/ie-emulation-modes-warning.js"></script>
	 <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js"></script>
		<script type="text/javascript" src="js/angular.min.js"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.min.js"></script>
      <script src="js/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="clsWrapper">
		<div class="clsHeader navbar-fixed-top">
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="col-md-12">
						<div class="clsLogo" style="text-align:center;"><img src="images/logo.jpg"/></div>
					</div>
				</div>
			</div>
		</div>	<!--clsHeader-->
		
		

				<div class="container-fluid">
					<div class="clsIn_cont" style="padding-top:150px;">
						<div class="row">
							<div class="col-md-4"></div>
							<div class="col-md-4">
								<div class="clsData_cont">
											<div class="clsTlt">
												<h1>Login</h1>
												<h2>Duis autem vel eum iriure dolor in hendrerit in vulputate velit esse</h2>
											</div>
											<div class="clsLine"></div>
											<form ng-controller="loginController">
											<div class="alert-success" ng-repeat="error in errors"> {{ error}} </div>
											
											<div class="alert-success" ng-repeat="msg in msgs"> {{ msg}} </div>
										
											<div class="clsForm">
												<div class="row">
													<div style="margin-bottom:15px;" class="col-md-12">
														<label for="exampleInputEmail1">Username</label>
														<input type="text" style="height:50px;" placeholder="Enter your username " class="form-control " ng-model="username">
													</div>
																 
													<div style="margin-bottom:15px;" class="col-md-12">
														<label for="exampleInputEmail1">Password</label>
														<input type="password" style="height:50px;" placeholder="Enter your password " class="form-control " ng-model="password">
													</div>													
												</div>
												<div class="row">
													<div style="margin-bottom:5px;" class="col-md-12">
														<button ng-click='login();' class="btn_edit_sc btn btn-success btn-lg col-xs-12">LOGIN</button>
													</div>
													<div style="margin-bottom:5px;" class="col-md-12">
														<button type="submit" class="btn btn-danger btn-lg col-xs-12">REGISTER</button>
													</div>
													
												</div>
											</div>
											</form>
								</div>
							</div>
							<div class="col-md-4"></div>
						</div>
					</div>
				</div>
				<script type="text/javascript">
                function loginController($scope, $http,$location) {
                $scope.errors = [];
                $scope.msgs = [];
 
                $scope.login = function() {
 
                    $scope.errors.splice(0, $scope.errors.length); // remove all error messages
                    $scope.msgs.splice(0, $scope.msgs.length);
 
                    $http.post('lg.php', {'uname': $scope.username, 'pswd': $scope.password}
                    ).success(function(data, status, headers, config) {
                        if (data.msg != '')
                        {
                            $scope.msgs.push(data.msg);
							$location.path("/dashboard");
                        }
                        else
                        {
                            $scope.errors.push(data.error);
                        }
                    }).error(function(data, status) { // called asynchronously if an error occurs
// or server returns response with an error status.
                        $scope.errors.push(status);
                    });
                }
            }
        </script>
		
		
	</div>
	
	<!-- Menu Toggle Script -->
    
	
  
	
  </body>
</html>